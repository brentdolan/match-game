import React from 'react'
import Head from 'next/head'
import styles from '@/styles/Home.module.css'
import { Title } from '@/components/title/title'
import { VariableText } from '@/components/variable-text/variable-text'
import { Button } from '@/components/button/button'
import { Card } from '@/components/cards/card'
import { Grid } from '@/components/grid/grid'
export const Home = (): JSX.Element => {
  const emojiList: string[] = ['ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸', 'ðŸ¸']
  const initialFaceDownValues = emojiList.reduce((reducer, emoji, index) => ({ ...reducer, [index]: true }), {})
  const [faceDown, setFaceDown] = React.useState(initialFaceDownValues)
  const onCardClick = (id: number): void => {
    const newValue = !faceDown[id]
    setFaceDown({ ...faceDown, [id]: newValue })
  }
  const test = emojiList.map(
    (emoji: string, index: number) => <Card emoji={emoji} faceDown={faceDown[index]} whichCard={index} onClick={onCardClick}/>
  )

  return (
      <>
          <Head>
              <title>Create Next App</title>
              <meta name="description" content="Generated by create next app" />
              <meta name="viewport" content="width=device-width, initial-scale=1" />
              <link rel="icon" href="/favicon.ico" />
          </Head>
          <main className={styles.main}>
              <div className={styles.navDiv}>
                  <Title text={'Matchinator'}/>
                  <Button text={'Start Over'}/>
              </div>
              <VariableText text={'Click Any Card To Begin'}/>
              <Grid>
                  {test}
              </Grid>

          </main>
      </>
  )
}

export default Home
